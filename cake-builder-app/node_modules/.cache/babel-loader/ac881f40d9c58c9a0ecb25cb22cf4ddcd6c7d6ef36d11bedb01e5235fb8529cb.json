{"ast":null,"code":"var _jsxFileName = \"D:\\\\M\\xF4n h\\u1ECDc\\\\C\\xF4ng ngh\\u1EC7 Java\\\\cake-builder-app\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState } from 'react';\n// import ShapeOptions from './components/options/ShapeOptions';\n// import ColorOptions from './components/options/ColorOptions';\n// import CreamMiddleOptions from './components/options/CreamMiddleOptions';\n// import ColorTier2Options from './components/options/ColorTier2Options';\n// import CreamTopOptions from './components/options/CreamTopOptions';\n// import SmoothLinesOptions from './components/options/SmoothLinesOptions';\n// import CakePreview from './components/CakePreview';\n\n// function App() {\n//   const [tier, setTier] = useState(1);\n//   const [shape, setShape] = useState(null);\n//   const [layers, setLayers] = useState({\n//     shape: null,\n//     color: null,\n//     creamMiddle: null,\n//     colorTier2: null,\n//     creamTop: null,\n//     smooth: null,\n//   });\n\n//   const handleReset = () => {\n//     setShape(null);\n//     setLayers({\n//       shape: null,\n//       color: null,\n//       creamMiddle: null,\n//       colorTier2: null,\n//       creamTop: null,\n//       smooth: null,\n//     });\n//   };\n\n//   const handleSelectTier = (value) => {\n//     setTier(value);\n//     handleReset();\n//   };\n\n//   return (\n//     <div className=\"flex p-8 space-x-10\">\n//       <div className=\"space-y-4 w-1/2\">\n//         <div>\n//           <label>Số tầng:</label>\n//           <select\n//             value={tier}\n//             onChange={(e) => handleSelectTier(parseInt(e.target.value))}\n//             className=\"ml-2 border px-2 py-1\"\n//           >\n//             <option value={1}>1 tầng</option>\n//             <option value={2}>2 tầng</option>\n//           </select>\n//         </div>\n\n//         {tier && (\n//           <ShapeOptions\n//             onSelect={(name, img) => {\n//               setShape(name);\n//               setLayers((prev) => ({ ...prev, shape: img }));\n//             }}\n//           />\n//         )}\n\n//         {shape && (\n//           <ColorOptions\n//             shapeName={shape}\n//             onSelect={(src) =>\n//               setLayers((prev) => ({ ...prev, color: src }))\n//             }\n//           />\n//         )}\n\n//         {tier === 2 && shape && (\n//           <CreamMiddleOptions\n//             shapeName={shape}\n//             onSelect={(src) =>\n//               setLayers((prev) => ({ ...prev, creamMiddle: src }))\n//             }\n//           />\n//         )}\n\n//         {tier === 2 && shape && (\n//           <ColorTier2Options\n//             shapeName={shape}\n//             onSelect={(src) =>\n//               setLayers((prev) => ({ ...prev, colorTier2: src }))\n//             }\n//           />\n//         )}\n\n//         {shape && (\n//           <CreamTopOptions\n//             shapeName={shape}\n//             onSelect={(src) =>\n//               setLayers((prev) => ({ ...prev, creamTop: src }))\n//             }\n//           />\n//         )}\n\n//         {shape && (\n//           <SmoothLinesOptions\n//             onSelect={(src) =>\n//               setLayers((prev) => ({ ...prev, smooth: src }))\n//             }\n//             onSkip={() =>\n//               setLayers((prev) => ({ ...prev, smooth: null }))\n//             }\n//           />\n//         )}\n//       </div>\n\n//       <div className=\"w-1/2\">\n//         <CakePreview layers={layers} tier={tier} />\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default App;\n// File: src/App.jsx\nimport React, { useState, useRef } from 'react';\nimport CakePreview from './components/CakePreview';\nimport Sidebar from './components/Sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [layers, setLayers] = useState([]);\n  const previewRef = useRef(null);\n  const handleDrop = e => {\n    e.preventDefault();\n    const data = JSON.parse(e.dataTransfer.getData('layer'));\n    setLayers(prev => {\n      const others = prev.filter(l => l.type !== data.type);\n      return [...others, data];\n    });\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n  };\n  const exportImage = () => {\n    const canvas = document.querySelector('canvas');\n    if (!canvas) return;\n    const link = document.createElement('a');\n    link.download = 'cake.png';\n    link.href = canvas.toDataURL();\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      setLayers: setLayers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-[300px] h-[300px] border ml-4\",\n      onDrop: handleDrop,\n      onDragOver: handleDragOver,\n      children: /*#__PURE__*/_jsxDEV(CakePreview, {\n        layers: layers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-4\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportImage,\n        className: \"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600\",\n        children: \"T\\u1EA3i \\u1EA3nh b\\xE1nh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"tJlLOcy65Baty3eybQZVUtjPIJQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","CakePreview","Sidebar","jsxDEV","_jsxDEV","App","_s","layers","setLayers","previewRef","handleDrop","e","preventDefault","data","JSON","parse","dataTransfer","getData","prev","others","filter","l","type","handleDragOver","exportImage","canvas","document","querySelector","link","createElement","download","href","toDataURL","click","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onDrop","onDragOver","onClick","_c","$RefreshReg$"],"sources":["D:/Môn học/Công nghệ Java/cake-builder-app/src/App.jsx"],"sourcesContent":["// import React, { useState } from 'react';\r\n// import ShapeOptions from './components/options/ShapeOptions';\r\n// import ColorOptions from './components/options/ColorOptions';\r\n// import CreamMiddleOptions from './components/options/CreamMiddleOptions';\r\n// import ColorTier2Options from './components/options/ColorTier2Options';\r\n// import CreamTopOptions from './components/options/CreamTopOptions';\r\n// import SmoothLinesOptions from './components/options/SmoothLinesOptions';\r\n// import CakePreview from './components/CakePreview';\r\n\r\n// function App() {\r\n//   const [tier, setTier] = useState(1);\r\n//   const [shape, setShape] = useState(null);\r\n//   const [layers, setLayers] = useState({\r\n//     shape: null,\r\n//     color: null,\r\n//     creamMiddle: null,\r\n//     colorTier2: null,\r\n//     creamTop: null,\r\n//     smooth: null,\r\n//   });\r\n\r\n//   const handleReset = () => {\r\n//     setShape(null);\r\n//     setLayers({\r\n//       shape: null,\r\n//       color: null,\r\n//       creamMiddle: null,\r\n//       colorTier2: null,\r\n//       creamTop: null,\r\n//       smooth: null,\r\n//     });\r\n//   };\r\n\r\n//   const handleSelectTier = (value) => {\r\n//     setTier(value);\r\n//     handleReset();\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"flex p-8 space-x-10\">\r\n//       <div className=\"space-y-4 w-1/2\">\r\n//         <div>\r\n//           <label>Số tầng:</label>\r\n//           <select\r\n//             value={tier}\r\n//             onChange={(e) => handleSelectTier(parseInt(e.target.value))}\r\n//             className=\"ml-2 border px-2 py-1\"\r\n//           >\r\n//             <option value={1}>1 tầng</option>\r\n//             <option value={2}>2 tầng</option>\r\n//           </select>\r\n//         </div>\r\n\r\n//         {tier && (\r\n//           <ShapeOptions\r\n//             onSelect={(name, img) => {\r\n//               setShape(name);\r\n//               setLayers((prev) => ({ ...prev, shape: img }));\r\n//             }}\r\n//           />\r\n//         )}\r\n\r\n//         {shape && (\r\n//           <ColorOptions\r\n//             shapeName={shape}\r\n//             onSelect={(src) =>\r\n//               setLayers((prev) => ({ ...prev, color: src }))\r\n//             }\r\n//           />\r\n//         )}\r\n\r\n//         {tier === 2 && shape && (\r\n//           <CreamMiddleOptions\r\n//             shapeName={shape}\r\n//             onSelect={(src) =>\r\n//               setLayers((prev) => ({ ...prev, creamMiddle: src }))\r\n//             }\r\n//           />\r\n//         )}\r\n\r\n//         {tier === 2 && shape && (\r\n//           <ColorTier2Options\r\n//             shapeName={shape}\r\n//             onSelect={(src) =>\r\n//               setLayers((prev) => ({ ...prev, colorTier2: src }))\r\n//             }\r\n//           />\r\n//         )}\r\n\r\n//         {shape && (\r\n//           <CreamTopOptions\r\n//             shapeName={shape}\r\n//             onSelect={(src) =>\r\n//               setLayers((prev) => ({ ...prev, creamTop: src }))\r\n//             }\r\n//           />\r\n//         )}\r\n\r\n//         {shape && (\r\n//           <SmoothLinesOptions\r\n//             onSelect={(src) =>\r\n//               setLayers((prev) => ({ ...prev, smooth: src }))\r\n//             }\r\n//             onSkip={() =>\r\n//               setLayers((prev) => ({ ...prev, smooth: null }))\r\n//             }\r\n//           />\r\n//         )}\r\n//       </div>\r\n\r\n//       <div className=\"w-1/2\">\r\n//         <CakePreview layers={layers} tier={tier} />\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default App;\r\n// File: src/App.jsx\r\nimport React, { useState, useRef } from 'react';\r\nimport CakePreview from './components/CakePreview';\r\nimport Sidebar from './components/Sidebar';\r\n\r\nfunction App() {\r\n  const [layers, setLayers] = useState([]);\r\n  const previewRef = useRef(null);\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    const data = JSON.parse(e.dataTransfer.getData('layer'));\r\n    setLayers(prev => {\r\n      const others = prev.filter(l => l.type !== data.type);\r\n      return [...others, data];\r\n    });\r\n  };\r\n\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const exportImage = () => {\r\n    const canvas = document.querySelector('canvas');\r\n    if (!canvas) return;\r\n    const link = document.createElement('a');\r\n    link.download = 'cake.png';\r\n    link.href = canvas.toDataURL();\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex\">\r\n      <Sidebar setLayers={setLayers} />\r\n      <div\r\n        className=\"w-[300px] h-[300px] border ml-4\"\r\n        onDrop={handleDrop}\r\n        onDragOver={handleDragOver}\r\n      >\r\n        <CakePreview layers={layers} />\r\n      </div>\r\n      <div className=\"ml-4\">\r\n        <button\r\n          onClick={exportImage}\r\n          className=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600\"\r\n        >\r\n          Tải ảnh bánh\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC/C,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,OAAO,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAMU,UAAU,GAAGT,MAAM,CAAC,IAAI,CAAC;EAE/B,MAAMU,UAAU,GAAIC,CAAC,IAAK;IACxBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,CAAC,CAACK,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;IACxDT,SAAS,CAACU,IAAI,IAAI;MAChB,MAAMC,MAAM,GAAGD,IAAI,CAACE,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKT,IAAI,CAACS,IAAI,CAAC;MACrD,OAAO,CAAC,GAAGH,MAAM,EAAEN,IAAI,CAAC;IAC1B,CAAC,CAAC;EACJ,CAAC;EAED,MAAMU,cAAc,GAAIZ,CAAC,IAAK;IAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC;EACpB,CAAC;EAED,MAAMY,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/C,IAAI,CAACF,MAAM,EAAE;IACb,MAAMG,IAAI,GAAGF,QAAQ,CAACG,aAAa,CAAC,GAAG,CAAC;IACxCD,IAAI,CAACE,QAAQ,GAAG,UAAU;IAC1BF,IAAI,CAACG,IAAI,GAAGN,MAAM,CAACO,SAAS,CAAC,CAAC;IAC9BJ,IAAI,CAACK,KAAK,CAAC,CAAC;EACd,CAAC;EAED,oBACE7B,OAAA;IAAK8B,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnB/B,OAAA,CAACF,OAAO;MAACM,SAAS,EAAEA;IAAU;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACjCnC,OAAA;MACE8B,SAAS,EAAC,iCAAiC;MAC3CM,MAAM,EAAE9B,UAAW;MACnB+B,UAAU,EAAElB,cAAe;MAAAY,QAAA,eAE3B/B,OAAA,CAACH,WAAW;QAACM,MAAM,EAAEA;MAAO;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B,CAAC,eACNnC,OAAA;MAAK8B,SAAS,EAAC,MAAM;MAAAC,QAAA,eACnB/B,OAAA;QACEsC,OAAO,EAAElB,WAAY;QACrBU,SAAS,EAAC,8DAA8D;QAAAC,QAAA,EACzE;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACjC,EAAA,CA9CQD,GAAG;AAAAsC,EAAA,GAAHtC,GAAG;AAgDZ,eAAeA,GAAG;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}